kind: bluperint 
spec_version: 2-preview
description: demo of Task grain


inputs:
  version:
    type: string
    display-style: normal
    default: "0.4.3"
    description: "Version of the robotShop micorservices application"

  myVal:
    type: string
    display-style: normal
    default: "0.4.3"
    description: "Version of the robotShop micorservices application"


# values that starts with '{' for liquid template must be encosed with quotes so YAML won't consider them as dict
outputs:
  DB_Hostname:
    value: '{{ .grains.configureService.outputs.hostname }}'


grains:

  configureService:
    kind: shell
    spec:
      host:
        name: vcenter
        image: http://.../
      files: 
        - path: '~/script.sh'
          source: http://github.com/.../script.sh
      activities:
        deploy:
          commands: 
            - 'echo {{ .inputs.version }}'

        destroy:
          commands:
            - 'echo {{ .inputs.myVal }}'
