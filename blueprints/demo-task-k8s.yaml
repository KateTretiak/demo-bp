kind: bluperint 
spec_version: 2-preview
description: demo of Task grain


inputs:
  filePath:
    type: string
    display-style: normal
    default: "0.4.3"
    description: "path to file to download"

  fileName:
    type: string
    display-style: normal
    default: "jp"
    description: "stam value"

  mySecondVal:
    type: string
    display-style: normal
    default: "jerusalem"
    description: "test value"


# values that starts with '{' for liquid template must be encosed with quotes so YAML won't consider them as dict
# outputs:
#  result:
#    value: "{{ .grains.configureService.deploy.commands.execute_algo.output }}"


env-vars:
  - name: VAR_NAME1
    value: value1
  - name: VAR_NAME2
    value: "{{ .inputs.mySecondVal }}"


grains:

  configureService:
    kind: shell
    spec:
      host:
        name: kubernetes-testing1
        # image: http://
      activities:
        deploy:
          commands: 
            - "apt-get -y install wget"
            - "wget {{ .inputs.filePath }}"
            - name: execute_algo
              command: python3 {{ .inputs.fileName }}

        destroy:
          commands:
            - "echo {{ .inputs.mySecondVal }}"
